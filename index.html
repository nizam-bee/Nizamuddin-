// Login with Google
document.getElementById("loginBtn").onclick = () => {
  const provider = new firebase.auth.GoogleAuthProvider();
  auth.signInWithPopup(provider)
    .then(result => {
      const user = result.user;
      document.getElementById("authSection").innerHTML = `
        <span>Hi, ${user.displayName}</span>
        <img src="${user.photoURL}" width="30" style="border-radius:50%; margin-left:10px;">
      `;
    })
    .catch(error => {
      alert("Login error: " + error.message);
    });
};

// Search simulation
function performSearch() {
  const query = document.getElementById("searchInput").value.trim();
  if (!query) return;

  const start = performance.now();
  setTimeout(() => {
    const end = performance.now();
    const time = (end - start) / 1000;
    const results = `
      <p>Showing results for "<b>${query}</b>"</p>
      <p>About ${Math.floor(Math.random() * 1000000)} results in ${time.toFixed(2)} seconds</p>
      <div style="text-align:left; margin:20px auto; width:60%;">
        <p><b>AI Answer:</b> ${generateAIResponse(query)}</p>
      </div>
    `;
    document.getElementById("results").innerHTML = results;
  }, 500);
}

// Smart AI responses
function generateAIResponse(query) {
  const lower = query.toLowerCase();
  if (lower.includes("sun")) return "The sun is the star at the center of the Solar System.";
  if (lower.includes("india")) return "India is a country known for its culture, diversity, and democracy.";
  if (lower.includes("chatgpt")) return "ChatGPT is an AI chatbot developed by OpenAI.";
  return "This is a smart AI answer to your question.";
}
