// pages/api/search.js (Next.js API route)
import axios from 'axios';

export default async function handler(req, res) {
  const { q } = req.query;
  const ddg = await axios.get('https://api.duckduckgo.com', {
    params: { q, format: 'json', no_redirect: 1, no_html: 1 }
  });
  const results = ddg.data.RelatedTopics.map(item => ({
    title: item.Text,
    url: item.FirstURL,
    snippet: item.Text
  }));
  res.status(200).json({ results });
}
